/* === FONT TRIMMING CONTROLLED BY DATA ATTRIBUTE === */
/* Works on any text element (div, span, p, h1â€“h6, etc.) */
/* Uses Webflow variables + modern CSS fallback */

/* Webflow variables (with default fallback values) */
:root {
  --font-trim-heading-top: var(--_fonts-tokens---font-trim--heading-top);
  --font-trim-heading-bottom: var(--_fonts-tokens---font-trim--heading-bottom);
  --font-trim-body-top: var(--_fonts-tokens---font-trim--body-top);
  --font-trim-body-bottom: var(--_fonts-tokens---font-trim--body-bottom);
  --font-trim-custom-top: var(--_fonts-tokens---font-trim--custom-top);
  --font-trim-custom-bottom: var(--_fonts-tokens---font-trim--custom-bottom);
}

/* Modern method (supported in Chromium 121+ / Safari 17+) */
[data-trim] {
  text-box-trim: both;
  text-box-edge: cap alphabetic;
}

/* Fallback for browsers without text-box-trim */
@supports not (text-box-trim: both) {
  [data-trim] {
    display: flow-root;
  }

  [data-trim]::before,
  [data-trim]::after {
    content: "";
    display: table;
  }

  /* --- Heading-type trimming --- */
  [data-trim="heading"]::before {
    margin-bottom: calc(-0.5lh + var(--font-trim-heading-top));
  }
  [data-trim="heading"]::after {
    margin-top: calc(-0.5lh + var(--font-trim-heading-bottom));
  }

  /* --- Body-type trimming --- */
  [data-trim="body"]::before {
    margin-bottom: calc(-0.5lh + var(--font-trim-body-top));
  }
  [data-trim="body"]::after {
    margin-top: calc(-0.5lh + var(--font-trim-body-bottom));
  }

  /* --- Custom trim (optional third type) --- */
  [data-trim="custom"]::before {
    margin-bottom: calc(-0.5lh + var(--font-trim-custom-top));
  }
  [data-trim="custom"]::after {
    margin-top: calc(-0.5lh + var(--font-trim-custom-bottom));
  }
}
